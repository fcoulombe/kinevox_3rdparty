SET(DepName "gclcollada")
IF(${IS_MSVC})
	SET(COLLADA_ROOT "${CMAKE_CURRENT_LIST_DIR}")
	
	SET(COLLADA_INCLUDE_DIR ${COLLADA_ROOT}/include/COLLADABaseUtils)
	SET(COLLADA_INCLUDE_DIR ${COLLADA_INCLUDE_DIR} ${COLLADA_ROOT}/include/COLLADAFramework)
	SET(COLLADA_INCLUDE_DIR ${COLLADA_INCLUDE_DIR} ${COLLADA_ROOT}/include/COLLADASaxFrameworkLoader)
	
	
	SET(COLLADA_DEBUG_LIBRARY debug ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/COLLADABaseUtils_d.lib)
	SET(COLLADA_DEBUG_LIBRARY ${COLLADA_DEBUG_LIBRARY} debug ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/COLLADAFramework_d.lib)
	SET(COLLADA_DEBUG_LIBRARY ${COLLADA_DEBUG_LIBRARY} debug ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/COLLADASaxFrameworkLoader_d.lib)
	SET(COLLADA_DEBUG_LIBRARY ${COLLADA_DEBUG_LIBRARY} debug ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/GeneratedSaxParser_d.lib)
	SET(COLLADA_DEBUG_LIBRARY ${COLLADA_DEBUG_LIBRARY} debug ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/LibXML_d.lib)
	SET(COLLADA_DEBUG_LIBRARY ${COLLADA_DEBUG_LIBRARY} debug ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/MathMLSolver_d.lib)
	SET(COLLADA_DEBUG_LIBRARY ${COLLADA_DEBUG_LIBRARY} debug ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/pcre_d.lib)
	
	SET(COLLADA_LIBRARY optimized ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/COLLADABaseUtils.lib)
	SET(COLLADA_LIBRARY ${COLLADA_LIBRARY} optimized ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/COLLADAFramework.lib)
	SET(COLLADA_LIBRARY ${COLLADA_LIBRARY} optimized ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/COLLADASaxFrameworkLoader.lib)
	SET(COLLADA_LIBRARY ${COLLADA_LIBRARY} optimized ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/GeneratedSaxParser.lib)
	SET(COLLADA_LIBRARY ${COLLADA_LIBRARY} optimized ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/LibXML.lib)
	SET(COLLADA_LIBRARY ${COLLADA_LIBRARY} optimized ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/MathMLSolver.lib)
	SET(COLLADA_LIBRARY ${COLLADA_LIBRARY} optimized ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}/pcre.lib)
	
	SET(${DepName}_INCLUDE_DIR ${COLLADA_INCLUDE_DIR} )
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY} )
	list(APPEND ${DepName}_LIBS ${COLLADA_DEBUG_LIBRARY} )
	
ELSE()
	
	IF (${WIN32})
		SET(COLLADA_SYS_ROOT "${MSYS_PATH}/local")
		find_library(LIBXML2_LIBRARIES 
	                NAMES "libxml" 
	                HINTS "${COLLADA_SYS_ROOT}/lib")
	ELSE()
		FIND_PACKAGE(LibXml2)
		SET(COLLADA_SYS_ROOT "${PROJECT_SOURCE_DIR}/3rdParty/usr")
	ENDIF()
	SET(COLLADA_ROOT "${CMAKE_CURRENT_LIST_DIR}/../opencollada_release/")
	find_path(COLLADA_BASE_INCLUDE_DIR COLLADABU.h
	 PATHS
	  ${COLLADA_ROOT}/include/COLLADABaseUtils
	  ${COLLADA_SYS_ROOT}/include/opencollada/COLLADABaseUtils
	  )
	find_path(COLLADA_FRAMEWORK_INCLUDE_DIR COLLADAFW.h
	  PATHS
	  ${COLLADA_ROOT}/include/COLLADAFramework
	  ${COLLADA_SYS_ROOT}/include/opencollada/COLLADAFramework
	  )
	find_path(COLLADA_SAXFRAMEWORKLOADER_INCLUDE_DIR COLLADASaxFWLLoader.h
	  PATHS
	  ${COLLADA_ROOT}/include/COLLADASaxFrameworkLoader
	  ${COLLADA_SYS_ROOT}/include/opencollada/COLLADASaxFrameworkLoader
	  )
	
	 SET(${DepName}_INCLUDE_DIR ${COLLADA_BASE_INCLUDE_DIR} ${COLLADA_FRAMEWORK_INCLUDE_DIR} ${COLLADA_SAXFRAMEWORKLOADER_INCLUDE_DIR} )
	 
	 find_library(COLLADA_LIBRARY_COLLADABaseUtils 
	                NAMES "OpenCOLLADABaseUtils" 
	                HINTS ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}
	                HINTS "${COLLADA_SYS_ROOT}/lib/opencollada")
	 find_library(COLLADA_LIBRARY_COLLADAFramework
	                NAMES "OpenCOLLADAFramework" 
	                HINTS ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}
	                HINTS "${COLLADA_SYS_ROOT}/lib/opencollada")
	 find_library(COLLADA_LIBRARY_COLLADASaxFrameworkLoader 
	                NAMES "OpenCOLLADASaxFrameworkLoader" 
	                HINTS ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}
	                HINTS "${COLLADA_SYS_ROOT}/lib/opencollada")
	 find_library(COLLADA_LIBRARY_GeneratedSaxParser 
	                NAMES "GeneratedSaxParser" 
	                HINTS ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}
	                HINTS "${COLLADA_SYS_ROOT}/lib/opencollada")
	 find_library(COLLADA_LIBRARY_MathMLSolver 
	                NAMES "MathMLSolver" 
	                HINTS ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}
	                HINTS "${COLLADA_SYS_ROOT}/lib/opencollada")
	 find_library(COLLADA_LIBRARY_UTF 
	                NAMES "UTF" 
	                HINTS ${COLLADA_ROOT}/lib/${KINEVOX_ARCHITECTURE}
	                HINTS "${COLLADA_SYS_ROOT}/lib/opencollada")
	 find_library(COLLADA_LIBRARY_PCRE 
	                NAMES "pcre" 
	                HINTS "${COLLADA_SYS_ROOT}/lib/")
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY_UTF})
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY_PCRE})
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY_COLLADABaseUtils})
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY_COLLADAFramework})
	
	list(APPEND ${DepName}_LIBS ${LIBXML2_LIBRARIES})
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY_GeneratedSaxParser})
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY_MathMLSolver})
	list(APPEND ${DepName}_LIBS ${COLLADA_LIBRARY_COLLADASaxFrameworkLoader})

ENDIF()
